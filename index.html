<!DOCTYPE html>
<html>
<head>
  <title>Kiosk Rotator</title>
  <meta charset="utf-8">
  <style>
    body, iframe { margin:0; padding:0; width:100vw; height:100vh; border:none; overflow:hidden; }
    iframe { display:block; }
  </style>
</head>
<body>
  <iframe id="frame" src=""></iframe>

  <script>
    const sites = [
		"https://www.udyamregistration.gov.in/Government-India/Ministry-MSME-registration.htm",
      "https://irismsme.com/goa/",
	"https://www.indiastat.com/goa-state/data/foreign-trade/exports/",
	//"https://www.dit.goa.gov.in/gallery-ITHub.html",
	// COMMA ADDED HERE to separate the Google Slides URL from the next one. 
      "https://www.pmindia.gov.in/en/",
      "https://www.dcmsme.gov.in/All_MSME_DIs_TCs.aspx",
     // "https://site5.com"
      // add up to 10 here
    ];

    let current = 0;
    let idleTimer;
    const rotateInterval = 10 * 1000;   // 10 seconds
    const idleTimeout   = 5 * 1000;     // resume rotating after 5 sec of no touch/mouse

    function rotate() {
      document.getElementById("frame").src = sites[current];
      current = (current + 1) % sites.length;
    }
    
    // We will use one variable for the main interval and one for the reset timer
    let rotationIntervalId; 
    let resetTimeoutId;

    function startRotating() {
        // Clear any previous rotation interval
        clearInterval(rotationIntervalId); 
        rotate(); // Load the first site immediately
        rotationIntervalId = setInterval(rotate, rotateInterval); // Start the regular rotation
    }

    function resetIdle() {
        // 1. Clear the primary rotation interval (pausing rotation)
        clearInterval(rotationIntervalId);
        
        // 2. Clear any pending timeout (to restart the 5-second countdown on new interaction)
        clearTimeout(resetTimeoutId); 
        
        // 3. Set a new timeout to restart rotation after the idleTimeout period
        resetTimeoutId = setTimeout(startRotating, idleTimeout);  
    }

    // Start on load
    startRotating();

    // Detect any user activity → pause rotation
    ["mousedown","mousemove","keypress","touchstart","click"].forEach(evt => 
      document.addEventListener(evt, resetIdle, {passive:true})
    );
  </script>
</body>
</html>
